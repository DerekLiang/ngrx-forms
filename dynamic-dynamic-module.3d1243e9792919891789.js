(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EA8I:function(t,n,o){"use strict";o.r(n),o.d(n,"DynamicModule",function(){return S});var e=o("ofXK"),r=o("tyNb"),c=o("l7P3"),i=o("atpF"),a=o("quTh"),s=o("PCNd"),p=o("IzEk"),b=o("lJxs");let d=(()=>{class t{constructor(n){this.name=n,this.type=t.TYPE}}return t.TYPE="dynamic/CREATE_GROUP_ELEMENT",t})(),u=(()=>{class t{constructor(n){this.name=n,this.type=t.TYPE}}return t.TYPE="dynamic/REMOVE_GROUP_ELEMENT",t})();const l=Object(i.A)("dynamic",{array:[!1,!1],group:{abc:!1,xyz:!1}}),g=Object(c.m)({formState:function(t=l,n){switch(t=Object(i.E)(t,n),n.type){case d.TYPE:return Object(i.J)({group:t=>Object(i.y)(t,n.name,!1)})(t);case u.TYPE:return Object(i.J)({group:t=>{const o=Object.assign({},t.value);return delete o[n.name],Object(i.H)(t,o)}})(t);default:return t}},array(t={maxIndex:2,options:[1,2]},n){switch(n.type){case i.a.TYPE:{const o=t.maxIndex+1,e=[...t.options];return e.splice(n.index,0,o),{maxIndex:o,options:e}}case i.t.TYPE:{const o=[...t.options];return o.splice(n.index,1),Object.assign(Object.assign({},t),{options:o})}default:return t}},groupOptions(t=["abc","xyz"],n){switch(n.type){case d.TYPE:return[...t,n.name];case u.TYPE:return t.filter(t=>t!==n.name);default:return t}}});function m(t,n){return g(t,n)}var f=o("fXoL"),y=o("zrVV"),O=o("AVnP");function h(t,n){if(1&t){const t=f.Tb();f.Sb(0,"div",6),f.Sb(1,"div"),f.Sb(2,"label"),f.zc(3),f.Rb(),f.Sb(4,"div"),f.Ob(5,"input",7),f.Rb(),f.Sb(6,"button",8),f.Zb("click",function(){f.pc(t);const o=n.index;return f.dc(2).removeArrayOption(o)}),f.zc(7," - "),f.Rb(),f.Rb(),f.Sb(8,"button",3),f.Zb("click",function(){f.pc(t);const o=n.index;return f.dc(2).addArrayOption(o+1)}),f.zc(9," + "),f.Rb(),f.Rb()}if(2&t){const t=n.$implicit,o=n.index,e=f.dc().ngIf;f.Cb(3),f.Bc("Option ",t,""),f.Cb(2),f.ic("ngrxFormControlState",e.controls.array.controls[o])}}function x(t,n){if(1&t){const t=f.Tb();f.Sb(0,"div",9),f.Sb(1,"div"),f.Sb(2,"label"),f.zc(3),f.Rb(),f.Sb(4,"div"),f.Ob(5,"input",7),f.Rb(),f.Sb(6,"button",8),f.Zb("click",function(){f.pc(t);const o=n.$implicit;return f.dc(2).removeGroupOption(o)}),f.zc(7," - "),f.Rb(),f.Rb(),f.Rb()}if(2&t){const t=n.$implicit,o=f.dc().ngIf;f.Cb(3),f.Bc("Option ",t,""),f.Cb(2),f.ic("ngrxFormControlState",o.controls.group.controls[t])}}function P(t,n){if(1&t){const t=f.Tb();f.Sb(0,"ngf-form-example",1),f.zc(1," This example shows how to dynamically add and remove controls from arrays and groups. For arrays we directly dispatch the corresponding actions from the component. For groups we dispatch custom actions which we handle in the reducer by calling the corresponding update functions. "),f.Ob(2,"br"),f.Ob(3,"br"),f.Sb(4,"form"),f.Sb(5,"div"),f.Sb(6,"span",2),f.zc(7,"Array options:"),f.Rb(),f.Sb(8,"button",3),f.Zb("click",function(){return f.pc(t),f.dc().addArrayOption(0)}),f.zc(9," + "),f.Rb(),f.yc(10,h,10,2,"div",4),f.ec(11,"async"),f.Rb(),f.Sb(12,"div"),f.Sb(13,"span",2),f.zc(14,"Group options:"),f.Rb(),f.yc(15,x,8,2,"div",5),f.ec(16,"async"),f.Sb(17,"button",3),f.Zb("click",function(){return f.pc(t),f.dc().addGroupOption()}),f.zc(18," + "),f.Rb(),f.Rb(),f.Rb(),f.Rb()}if(2&t){const t=n.ngIf,o=f.dc();f.ic("formState",t),f.Cb(10),f.ic("ngForOf",f.fc(11,5,o.arrayOptions$))("ngForTrackBy",o.trackByIndex),f.Cb(5),f.ic("ngForOf",f.fc(16,7,o.groupOptions$))("ngForTrackBy",o.trackById)}}let C=(()=>{class t{constructor(t){this.store=t,this.formState$=t.pipe(Object(c.t)(t=>t.dynamic.formState)),this.arrayOptions$=t.pipe(Object(c.t)(t=>t.dynamic.array.options)),this.groupOptions$=t.pipe(Object(c.t)(t=>t.dynamic.groupOptions))}addGroupOption(){const t=Math.random().toString(36).substr(2,3);this.store.dispatch(new d(t))}removeGroupOption(t){this.store.dispatch(new u(t))}addArrayOption(t){this.formState$.pipe(Object(p.a)(1),Object(b.a)(t=>t.controls.array.id),Object(b.a)(n=>new i.a(n,!1,t))).subscribe(this.store)}removeArrayOption(t){this.formState$.pipe(Object(p.a)(1),Object(b.a)(t=>t.controls.array.id),Object(b.a)(n=>new i.t(n,t))).subscribe(this.store)}trackByIndex(t){return t}trackById(t,n){return n}}return t.\u0275fac=function(n){return new(n||t)(f.Nb(c.h))},t.\u0275cmp=f.Hb({type:t,selectors:[["ngf-dynamic"]],decls:2,vars:3,consts:[["exampleName","Dynamic Form","githubLinkOverride","dynamic",3,"formState",4,"ngIf"],["exampleName","Dynamic Form","githubLinkOverride","dynamic",3,"formState"],[1,"section-heading"],["type","button",1,"add-btn",3,"click"],["class","array-option",4,"ngFor","ngForOf","ngForTrackBy"],["class","group-option",4,"ngFor","ngForOf","ngForTrackBy"],[1,"array-option"],["type","checkbox",3,"ngrxFormControlState"],["type","button",1,"remove-btn",3,"click"],[1,"group-option"]],template:function(t,n){1&t&&(f.yc(0,P,19,9,"ngf-form-example",0),f.ec(1,"async")),2&t&&f.ic("ngIf",f.fc(1,1,n.formState$))},directives:[e.l,y.a,e.k,i.d,O.a,i.g,i.r],pipes:[e.b],styles:[".page[_ngcontent-%COMP%], [_nghost-%COMP%]{flex:1;height:100%;align-items:flex-start;background-color:#ddd;overflow:auto}.page[_ngcontent-%COMP%], [_nghost-%COMP%], form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;flex-direction:column}.array-option[_ngcontent-%COMP%], form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.array-option[_ngcontent-%COMP%]{flex-direction:column}.array-option[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.array-option[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:65px}.group-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin:5px 0}.group-option[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.group-option[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:75px}.section-heading[_ngcontent-%COMP%]{font-weight:700}.add-btn[_ngcontent-%COMP%]{margin:10px 0}.remove-btn[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}),t})(),S=(()=>{class t{}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(n){return new(n||t)},imports:[[e.c,a.a,i.i,s.a,r.i.forChild([{path:"",component:C}]),c.j.forFeature("dynamic",m)]]}),t})()}}]);