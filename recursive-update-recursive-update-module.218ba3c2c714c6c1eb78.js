(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{vJZz:function(t,e,n){"use strict";n.r(e),n.d(e,"RecursiveUpdateModule",function(){return x});var o=n("ofXK"),r=n("tyNb"),i=n("l7P3"),a=n("atpF"),b=n("quTh"),l=n("PCNd"),c=n("PqYM"),s=n("lJxs");let m=(()=>{class t{constructor(){this.type=t.TYPE}}return t.TYPE="recursiveUpdate/BLOCK_UI",t})(),d=(()=>{class t{constructor(){this.type=t.TYPE}}return t.TYPE="dynamic/UNBLOCK_UI",t})();const p=Object(a.J)(Object(a.A)("recursiveUpdate",{firstName:"",lastName:"",email:"",sex:"",favoriteColor:"",employed:!1,notes:""}),{employed:a.C,notes:a.C,sex:a.C}),u=Object(i.m)({formState:function(t=p,e){switch(t=Object(a.E)(t,e),e.type){case m.TYPE:return t=Object(a.K)(t,t=>Object(a.G)(t,"wasDisabled",t.isDisabled)),Object(a.C)(t);case d.TYPE:return t=Object(a.D)(t),Object(a.K)(t,t=>t.userDefinedProperties.wasDisabled?Object(a.C)(t):t);default:return t}}});function f(t,e){return u(t,e)}var g=n("fXoL"),S=n("zrVV"),h=n("AVnP");function C(t,e){if(1&t){const t=g.Tb();g.Sb(0,"ngf-form-example",1),g.zc(1," This example shows how it is possible to update the full form state with a single update function. In this scenario we want to block/disable the form inputs after submitting the form. However, some elements have been manually disabled in the form state and they should remain disabled when the UI is unblocked, which will happen 1 second after submitting the form (simulating a server call). We achieve this by storing a user-defined property for each form control. This allows returning all form inputs to the state they were before the UI was blocked. "),g.Ob(2,"br"),g.Ob(3,"br"),g.Sb(4,"form",2),g.Zb("submit",function(){return g.pc(t),g.dc().submit()}),g.Sb(5,"div"),g.Sb(6,"label"),g.zc(7,"First Name"),g.Rb(),g.Sb(8,"div"),g.Ob(9,"input",3),g.Rb(),g.Rb(),g.Sb(10,"div"),g.Sb(11,"label"),g.zc(12,"Last Name"),g.Rb(),g.Sb(13,"div"),g.Ob(14,"input",4),g.Rb(),g.Rb(),g.Sb(15,"div"),g.Sb(16,"label"),g.zc(17,"Email"),g.Rb(),g.Sb(18,"div"),g.Ob(19,"input",5),g.Rb(),g.Rb(),g.Sb(20,"div"),g.Sb(21,"label"),g.zc(22,"Sex"),g.Rb(),g.Sb(23,"div"),g.Sb(24,"label"),g.Ob(25,"input",6),g.zc(26," Male "),g.Rb(),g.Sb(27,"label"),g.Ob(28,"input",7),g.zc(29," Female "),g.Rb(),g.Rb(),g.Rb(),g.Sb(30,"div"),g.Sb(31,"label"),g.zc(32,"Favorite Color"),g.Rb(),g.Sb(33,"div"),g.Sb(34,"select",8),g.Ob(35,"option",9),g.Sb(36,"option",10),g.zc(37,"Red"),g.Rb(),g.Sb(38,"option",11),g.zc(39,"Green"),g.Rb(),g.Sb(40,"option",12),g.zc(41,"Blue"),g.Rb(),g.Rb(),g.Rb(),g.Rb(),g.Sb(42,"div"),g.Sb(43,"label"),g.zc(44,"Employed"),g.Rb(),g.Sb(45,"div"),g.Ob(46,"input",13),g.Rb(),g.Rb(),g.Sb(47,"div"),g.Sb(48,"label"),g.zc(49,"Notes"),g.Rb(),g.Sb(50,"div"),g.Sb(51,"textarea",8),g.zc(52,"        "),g.Rb(),g.Rb(),g.Rb(),g.Sb(53,"div",14),g.Ob(54,"div"),g.Sb(55,"div"),g.Sb(56,"button",15),g.zc(57," Submit "),g.Rb(),g.Rb(),g.Rb(),g.Rb(),g.Rb()}if(2&t){const t=e.ngIf;g.ic("formState",t),g.Cb(4),g.ic("ngrxFormState",t),g.Cb(5),g.ic("ngrxFormControlState",t.controls.firstName),g.Cb(5),g.ic("ngrxFormControlState",t.controls.lastName),g.Cb(5),g.ic("ngrxFormControlState",t.controls.email),g.Cb(6),g.ic("ngrxFormControlState",t.controls.sex),g.Cb(3),g.ic("ngrxFormControlState",t.controls.sex),g.Cb(6),g.ic("ngrxFormControlState",t.controls.favoriteColor),g.Cb(12),g.ic("ngrxFormControlState",t.controls.employed),g.Cb(5),g.ic("ngrxFormControlState",t.controls.notes)}}let v=(()=>{class t{constructor(t){this.store=t,this.formState$=t.pipe(Object(i.t)(t=>t.recursiveUpdate.formState))}submit(){this.store.dispatch(new m),Object(c.a)(1e3).pipe(Object(s.a)(()=>new d)).subscribe(this.store)}}return t.\u0275fac=function(e){return new(e||t)(g.Nb(i.h))},t.\u0275cmp=g.Hb({type:t,selectors:[["ngf-recursive-update"]],decls:2,vars:3,consts:[["exampleName","Recursive Update",3,"formState",4,"ngIf"],["exampleName","Recursive Update",3,"formState"],[3,"ngrxFormState","submit"],["type","text","placeholder","First Name",3,"ngrxFormControlState"],["type","text","placeholder","Last Name",3,"ngrxFormControlState"],["type","email","placeholder","Email",3,"ngrxFormControlState"],["type","radio","value","male",3,"ngrxFormControlState"],["type","radio","value","female",3,"ngrxFormControlState"],[3,"ngrxFormControlState"],["value",""],["value","ff0000"],["value","00ff00"],["value","0000ff"],["type","checkbox",3,"ngrxFormControlState"],[1,"buttons"],["type","submit"]],template:function(t,e){1&t&&(g.yc(0,C,58,10,"ngf-form-example",0),g.ec(1,"async")),2&t&&g.ic("ngIf",g.fc(1,1,e.formState$))},directives:[o.l,S.a,a.h,a.r,a.e,h.a,a.g,a.m,a.q,a.n,a.p,a.f,a.d],pipes:[o.b],styles:[".page[_ngcontent-%COMP%], [_nghost-%COMP%]{flex:1;height:100%;display:flex;align-items:flex-start;background-color:#ddd;overflow:auto}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.buttons){display:flex;padding:5px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.buttons) > label[_ngcontent-%COMP%]{width:110px;float:right;display:flex;justify-content:flex-end;margin-right:10px;font-weight:700;line-height:21px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.buttons) > div[_ngcontent-%COMP%]{flex:1}form[_ngcontent-%COMP%] > .buttons[_ngcontent-%COMP%]{display:flex;padding:5px}form[_ngcontent-%COMP%] > .buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:110px;margin-right:10px}form[_ngcontent-%COMP%] > .buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex:1}"],changeDetection:0}),t})(),x=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},imports:[[o.c,b.a,a.i,l.a,r.i.forChild([{path:"",component:v}]),i.j.forFeature("recursiveUpdate",f)]]}),t})()}}]);